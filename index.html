<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Teddy Day for Siddhi üß∏</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #fce4ec; /* Pink Light */
            background-image: radial-gradient(#f8bbd0 20%, transparent 20%), radial-gradient(#f8bbd0 20%, transparent 20%);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            color: #880e4f;
            overflow: hidden;
            margin: 0;
            height: 100vh;
            touch-action: manipulation;
        }

        .chunky-font { font-family: 'Fredoka One', cursive; }

        .section {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .section.active {
            display: flex;
            opacity: 1;
            z-index: 10;
        }

        /* --- CLAW MACHINE STYLES --- */
        .machine-container {
            position: relative;
            width: 300px;
            height: 400px;
            background: rgba(255, 255, 255, 0.5);
            border: 8px solid #f06292;
            border-radius: 20px 20px 0 0;
            box-shadow: 0 10px 0 #c2185b, 0 20px 20px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .claw-rope {
            position: absolute;
            top: -100px; left: 50%;
            width: 4px; height: 100px;
            background: #333;
            transform: translateX(-50%);
            transition: height 1.5s ease-in-out;
            z-index: 5;
        }

        .claw-hand {
            position: absolute;
            bottom: -20px; left: -18px;
            width: 40px; height: 30px;
            border: 4px solid #333;
            border-top: none;
            border-radius: 0 0 20px 20px;
        }
        .claw-hand::before, .claw-hand::after {
            content: '';
            position: absolute;
            top: 0;
            width: 4px; height: 20px;
            background: #333;
        }
        .claw-hand::before { left: -4px; transform: rotate(-30deg); transform-origin: top; }
        .claw-hand::after { right: -4px; transform: rotate(30deg); transform-origin: top; }

        .teddy-pile {
            position: absolute;
            bottom: 10px;
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 10px;
        }

        .teddy {
            font-size: 50px;
            transition: transform 0.3s;
        }

        .target-teddy {
            position: absolute;
            bottom: 10px; left: 50%;
            transform: translateX(-50%);
            font-size: 60px;
            z-index: 2;
            transition: bottom 1.5s ease-in-out;
        }

        .btn-game {
            background: #f06292;
            border-bottom: 6px solid #c2185b;
            color: white;
            text-transform: uppercase;
            letter-spacing: 2px;
            transition: all 0.1s;
        }
        .btn-game:active {
            transform: translateY(4px);
            border-bottom: 2px solid #c2185b;
        }

        /* --- HUG METER STYLES --- */
        .big-teddy {
            font-size: 120px;
            cursor: pointer;
            transition: transform 0.1s;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        .big-teddy:active { transform: scale(0.85); }

        .progress-bar-container {
            width: 80%;
            height: 30px;
            background: white;
            border-radius: 15px;
            border: 4px solid #f06292;
            overflow: hidden;
            margin-top: 20px;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            width: 0%;
            background: repeating-linear-gradient(45deg, #f06292, #f06292 10px, #ec407a 10px, #ec407a 20px);
            transition: width 0.2s;
        }

        .floating-heart {
            position: absolute;
            color: #e91e63;
            font-size: 24px;
            pointer-events: none;
            animation: floatUp 1s forwards;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
        }

        /* --- FINAL CARD --- */
        .card-container {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(136, 14, 79, 0.2);
            max-width: 320px;
            transform: rotate(-2deg);
            border: 2px dashed #f06292;
        }

        .polaroid-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 10px;
            background: #eee;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>

    <!-- SECTION 1: THE CLAW MACHINE -->
    <div id="section-1" class="section active">
        <h1 class="text-4xl chunky-font text-pink-600 mb-2">Win a Teddy!</h1>
        <p class="mb-8 text-pink-800 font-bold">Tap GRAB to catch the prize</p>

        <div class="machine-container">
            <!-- The Claw -->
            <div id="claw" class="claw-rope">
                <div class="claw-hand"></div>
            </div>

            <!-- Background Teddies -->
            <div class="teddy-pile">
                <div class="teddy opacity-50">üß∏</div>
                <div class="teddy opacity-50" style="transform: scaleX(-1);">üß∏</div>
                <div class="teddy opacity-50">üß∏</div>
            </div>

            <!-- The Target Teddy -->
            <div id="target-teddy" class="target-teddy">üß∏</div>
        </div>

        <div class="mt-8">
            <button id="grab-btn" class="btn-game py-4 px-12 rounded-full font-bold text-xl chunky-font" onclick="playClaw()">
                GRAB!
            </button>
        </div>
    </div>

    <!-- SECTION 2: HUG THE TEDDY -->
    <div id="section-2" class="section">
        <h2 class="text-3xl chunky-font text-pink-600 mb-4">You Won! üéâ</h2>
        <p class="mb-8 text-gray-600 px-6">This teddy needs love! Tap him repeatedly to fill the Cuddle Meter.</p>

        <div class="relative">
            <div id="cuddle-teddy" class="big-teddy" onclick="hugTeddy(event)">üß∏</div>
        </div>

        <div class="progress-bar-container">
            <div id="love-meter" class="progress-fill"></div>
        </div>
        <p class="mt-2 font-bold text-pink-400" id="meter-text">Cuddle Level: 0%</p>
    </div>

    <!-- SECTION 3: FINAL MESSAGE -->
    <div id="section-3" class="section">
        <div class="card-container animate-bounce-slow">
            <!-- REPLACE SRC WITH YOUR PHOTO -->
            <img src="https://lh3.googleusercontent.com/pw/AP1GczN_y7QqwlwkXjQGGf79uxIYCdb3f_22QjFdbjr8RPBUPYv_RKqSOd6-2DA97IAesULK-Q6r0yFZTxGfjNkSgjTc8HB8K6WBRmiDkzJTHB6uYLciC1JUFd03VkUeE3Sp52_xFFl8qwJgVRKwzb6AYeI=w719-h720-s-no-gm?authuser=0" alt="Us" class="polaroid-img">
            
            <h2 class="text-2xl chunky-font text-pink-600 mb-2">For My Siddhi</h2>
            <p class="text-sm text-gray-700 leading-relaxed mb-4">
                This teddy is soft, but my love for you is softer. Thank you for being my comfort, my joy, and my favorite hug.
            </p>
            <div class="border-t-2 border-pink-100 pt-3 flex justify-between items-center">
                <span class="text-2xl">üß∏‚ù§Ô∏è</span>
                <span class="font-bold text-pink-800">Happy Teddy Day!</span>
            </div>
        </div>
        
        <button class="mt-10 text-pink-400 underline" onclick="location.reload()">Play Again</button>
    </div>

    <script>
        // Navigation Helper
        function showNext(num) {
            document.querySelectorAll('.section').forEach(s => {
                s.style.opacity = 0;
                setTimeout(() => s.style.display = 'none', 500);
            });
            setTimeout(() => {
                const next = document.getElementById('section-' + num);
                next.style.display = 'flex';
                setTimeout(() => next.style.opacity = 1, 50);
            }, 500);
        }

        // --- SECTION 1: CLAW MACHINE LOGIC ---
        function playClaw() {
            const btn = document.getElementById('grab-btn');
            const claw = document.getElementById('claw');
            const teddy = document.getElementById('target-teddy');

            // Disable button
            btn.disabled = true;
            btn.innerText = "Grabbing...";
            btn.style.background = "#999";
            btn.style.borderBottom = "6px solid #666";

            // 1. Lower Claw
            claw.style.height = "340px";

            // 2. Grab Teddy (After 1.5s)
            setTimeout(() => {
                // Attach teddy to claw visually by moving it up with same timing
                claw.style.height = "100px";
                teddy.style.bottom = "250px"; // Move teddy up
            }, 1500);

            // 3. Finish and Transition (After 3s total)
            setTimeout(() => {
                showNext(2);
            }, 3000);
        }

        // --- SECTION 2: HUG LOGIC ---
        let loveScore = 0;
        
        function hugTeddy(e) {
            if(loveScore >= 100) return;

            // Increment
            loveScore += 10;
            updateMeter();

            // Visual Squish Effect handled by CSS :active, but let's add particles
            spawnHeart(e.clientX, e.clientY);

            // Play sound effect (Optional vibration)
            if(navigator.vibrate) navigator.vibrate(30);

            // Check Win
            if(loveScore >= 100) {
                document.getElementById('meter-text').innerText = "MAXIMUM CUDDLES! ‚ù§Ô∏è";
                setTimeout(() => {
                    showNext(3);
                }, 1000);
            }
        }

        function updateMeter() {
            const fill = document.getElementById('love-meter');
            const text = document.getElementById('meter-text');
            fill.style.width = loveScore + "%";
            text.innerText = `Cuddle Level: ${loveScore}%`;
        }

        function spawnHeart(x, y) {
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.innerText = '‚ù§Ô∏è';
            heart.style.left = x + 'px';
            heart.style.top = y + 'px';
            
            // Add some randomness
            const randomX = (Math.random() - 0.5) * 50;
            heart.style.transform = `translate(${randomX}px, 0)`;

            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 1000);
        }

        // Disable context menu
        window.oncontextmenu = function() { return false; }
    </script>
</body>
</html>